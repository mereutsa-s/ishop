/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[94,21,56,58,60],{438:function(t,e,r){t.exports=function(){"use strict";var g="undefined"!=typeof document&&document.documentMode,t={rootMargin:"0px",threshold:0,load:function(t){if("picture"===t.nodeName.toLowerCase()){var e=t.querySelector("img"),r=!1;null===e&&(e=document.createElement("img"),r=!0),g&&t.getAttribute("data-iesrc")&&(e.src=t.getAttribute("data-iesrc")),t.getAttribute("data-alt")&&(e.alt=t.getAttribute("data-alt")),r&&t.append(e)}if("video"===t.nodeName.toLowerCase()&&!t.getAttribute("data-src")&&t.children){for(var a=t.children,n=void 0,i=0;i<=a.length-1;i++)(n=a[i].getAttribute("data-src"))&&(a[i].src=n);t.load()}t.getAttribute("data-poster")&&(t.poster=t.getAttribute("data-poster")),t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset"));var o=",";if(t.getAttribute("data-background-delimiter")&&(o=t.getAttribute("data-background-delimiter")),t.getAttribute("data-background-image"))t.style.backgroundImage="url('"+t.getAttribute("data-background-image").split(o).join("'),url('")+"')";else if(t.getAttribute("data-background-image-set")){var l=t.getAttribute("data-background-image-set").split(o),u=l[0].substr(0,l[0].indexOf(" "))||l[0];u=-1===u.indexOf("url(")?"url("+u+")":u,1===l.length?t.style.backgroundImage=u:t.setAttribute("style",(t.getAttribute("style")||"")+"background-image: "+u+"; background-image: -webkit-image-set("+l+"); background-image: image-set("+l+")")}t.getAttribute("data-toggle-class")&&t.classList.toggle(t.getAttribute("data-toggle-class"))},loaded:function(){}};function e(t){t.setAttribute("data-loaded",!0)}var r=function(t){return"true"===t.getAttribute("data-loaded")},n=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var o,a,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=Object.assign({},t,c),i=d.root,v=d.rootMargin,f=d.threshold,u=d.load,g=d.loaded,s=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(s=new IntersectionObserver((o=u,a=g,function(t,n){t.forEach((function(t){(0<t.intersectionRatio||t.isIntersecting)&&(n.unobserve(t.target),r(t.target)||(o(t.target),e(t.target),a(t.target)))}))}),{root:i,rootMargin:v,threshold:f}));for(var m,h=n(l,i),b=0;b<h.length;b++)(m=h[b]).getAttribute("data-placeholder-background")&&(m.style.background=m.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=n(l,i),o=0;o<t.length;o++)r(t[o])||(s?s.observe(t[o]):(u(t[o]),e(t[o]),g(t[o])))},triggerLoad:function(t){r(t)||(u(t),e(t),g(t))},observer:s}}}()},442:function(t,e,r){var n=r(12);t.exports=function(t){return n(Set.prototype.values,t)}},444:function(t,e){function r(t,e,r){var n,o,l,c,d;function v(){var f=Date.now()-c;f<e&&f>=0?n=setTimeout(v,e-f):(n=null,r||(d=t.apply(l,o),l=o=null))}null==e&&(e=100);var f=function(){l=this,o=arguments,c=Date.now();var f=r&&!n;return n||(n=setTimeout(v,e)),f&&(d=t.apply(l,o),l=o=null),d};return f.clear=function(){n&&(clearTimeout(n),n=null)},f.flush=function(){n&&(d=t.apply(l,o),l=o=null,clearTimeout(n),n=null)},f}r.debounce=r,t.exports=r},450:function(t,e,r){var content=r(465);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(61).default)("32448bfb",content,!0,{sourceMap:!1})},452:function(t,e,r){var n=r(4),o=r(273).values;n({target:"Object",stat:!0},{values:function(t){return o(t)}})},458:function(t,e,r){var content=r(626);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(61).default)("5be6a80a",content,!0,{sourceMap:!1})},459:function(t,e,r){"use strict";r.r(e);var n=r(1),o=r(5),l=(r(21),r(272),r(23),r(8),r(25),r(54),r(20),r(19),r(27),r(17),r(28),r(66)),c=r(444),d=r(48),v=r(11);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var m={name:"TagSearch",data:function(){return{setApi:"setTags",searchedString:"",tagList:null,loading:!1,autoSuggestionOpen:!1,deleteWarning:!1}},props:{tags:{type:String,default:""}},directives:{outsideClick:l.a},components:{Spinner:d.default},watch:{searchedString:Object(c.debounce)((function(){this.fetchingData()}),700)},computed:{tagExists:function(){var t=this;return this.tagList.findIndex((function(e){return e.title===t.searchedString}))>-1},selectedTags:function(){return this.tags?this.tags.split(",").filter((function(t){return t})):[]}},methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({deleteKeyPress:function(){this.searchedString||(this.deleteWarning&&this.deleteTag(this.selectedTags[this.selectedTags.length-1]),this.deleteWarning=!this.deleteWarning)},deleteTag:function(t){this.$emit("delete",t)},openResult:function(){this.autoSuggestionOpen=!this.autoSuggestionOpen,this.fetchingData()},saveTag:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.setRequest({params:{title:t.searchedString},api:"setTags"});case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",t.$nuxt.error(e.t0));case 9:t.loading=!1;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))()},fetchingData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.getRequest({params:{q:t.searchedString},api:"getTags"});case 4:r=e.sent,(data=r.data)&&(t.tagList=data),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",t.$nuxt.error(e.t0));case 12:t.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},autoSuggestionClose:function(){this.autoSuggestionOpen=this.deleteWarning=!1,this.searchedString=""},emitAddingTag:function(t){-1===this.selectedTags.findIndex((function(e){return e===t}))&&this.$emit("add",t)},clickedItem:function(data){data||(this.saveTag(),data=this.searchedString),this.emitAddingTag(data),this.autoSuggestionClose(),this.$refs.tagSearchInput.focus()}},Object(v.b)("common",["setRequest","getRequest"]))},h=m,_=(r(464),r(16)),component=Object(_.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"outside-click",rawName:"v-outside-click",value:t.autoSuggestionClose,expression:"autoSuggestionClose"}],staticClass:"tag-wrapper"},[r("ul",{staticClass:"tags"},[t._l(t.selectedTags,(function(e,n){return r("li",{key:n,class:{warning:t.deleteWarning&&n===t.selectedTags.length-1}},[r("span",{staticClass:"tag"},[t._v("\n        "+t._s(e)+"\n        "),r("span",{staticClass:"close-btn",on:{click:function(r){return t.deleteTag(e)}}},[r("i",{staticClass:"icon close-icon"})])])])})),t._v(" "),r("li",{staticClass:"tag-input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchedString,expression:"searchedString"}],ref:"tagSearchInput",attrs:{type:"text",placeholder:"Write here"},domProps:{value:t.searchedString},on:{focus:t.openResult,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.clickedItem({title:t.searchedString}))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.deleteKeyPress()}],input:function(e){e.target.composing||(t.searchedString=e.target.value)}}})])],2),t._v(" "),t.autoSuggestionOpen?r("div",{staticClass:"tag-dropdown"},[t.loading?r("div",{staticClass:"spinner-wrapper"},[r("spinner",{attrs:{radius:40,color:"primary"}})],1):t.tagList?r("ul",[t._l(t.tagList,(function(e,n){return r("li",{key:n},[r("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.clickedItem(e.title)}}},[t._v("\n          "+t._s(e.title)+"\n        ")])])})),t._v(" "),t.searchedString&&!t.tagExists?r("li",[r("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clickedItem(null)}}},[t._v("\n          "+t._s(t.searchedString)+" ("+t._s(t.$t("error.new"))+")\n        ")])]):t._e()],2):t.searchedString?t._e():r("p",[t._v("\n      "+t._s(t.$t("index.nf"))+"\n    ")])]):t._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Spinner:r(48).default})},464:function(t,e,r){"use strict";r(450)},465:function(t,e,r){var n=r(60)(!1);n.push([t.i,".tag-wrapper{border:1px solid #ddd;border-radius:4px;padding:10px 15px;position:relative}.tag-wrapper .tags{display:flex;flex-wrap:wrap}.tag-wrapper .tags .tag-input{flex-grow:1;position:relative;padding-right:34px}.tag-wrapper .tags .tag-input .spinner{position:absolute;top:50%;transform:translateY(-50%);right:5px}.tag-wrapper .tags .tag-input input{border:none;padding:0;line-height:30px;height:30px;margin:5px 10px 5px 0;box-shadow:none;background:none}.tag-wrapper .tags .tag{border:1px solid #ddd;border-radius:50px;line-height:25px;height:30px;color:#333;margin:5px 10px 5px 0;background:#eee;position:relative;padding:0 30px 0 10px;display:flex;align-items:center}.tag-wrapper .tags .tag .close-btn{position:absolute;top:50%;margin-top:-10px;right:3px;cursor:pointer;color:#333;height:20px;width:20px;line-height:10px;border:1px solid #ddd;background:#ddd;margin-left:5px}.tag-wrapper .tags .tag .close-btn .close-icon{min-width:20px}.tag-wrapper .warning .tag{border-color:#a12321;background:#a12321;color:#fff}.tag-wrapper .tag-dropdown{overflow:auto;min-height:100px;max-height:300px;position:absolute;top:calc(100% + 1px);left:0;right:0;z-index:1;background:#fff;box-shadow:0 3px 10px rgba(0,0,0,.1);padding:15px 15px 5px;border-radius:5px}.tag-wrapper .tag-dropdown li a{border:1px solid #ddd;border-radius:50px;padding:0 20px;line-height:30px;height:32px;color:#333;margin:0 10px 10px 0}.tag-wrapper .tag-dropdown li a:hover{background:#eee}",""]),t.exports=n},466:function(t,e,r){"use strict";r.r(e);r(271),r(19),r(55);var n=r(642),o=r(80),l=r(274),c=r.n(l),d={name:"WYSIWYGEditor",data:function(){return{acceptedTags:["iframe"],productDescription:"",editAsHtml:!1,fullScreen:!1,focused:!1}},props:{title:{type:String,default:function(){return this.$t("prod.desc")}},type:{type:Number,required:!1},description:{type:String,default:""}},mixins:[o.a],components:{VueEditor:n.a},watch:{description:function(t){this.productDescription=c.a.sanitize(t,{ADD_TAGS:this.acceptedTags})}},computed:{},methods:{descriptionChange:function(){this.$emit("change",c.a.sanitize(this.productDescription,{ADD_TAGS:this.acceptedTags}))},fullScreenToggle:function(){this.fullScreen=!this.fullScreen},handleImageRemoved:function(t,e,r,n){this.handleDescriptionImage(!0,t,e,r,n)},handleImageAdded:function(t,e,r,n){this.handleDescriptionImage(!1,t,e,r,n)},handleDescriptionImage:function(t,e,r,n,o){this.$emit("file",{deleted:t,file:e,Editor:r,cursorLocation:n,resetUploader:o})}},beforeCreate:function(){},destroyed:function(){},created:function(){},mounted:function(){this.productDescription=c.a.sanitize(this.description)}},v=(r(625),r(16)),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wysiwyg-wrapper",class:[{"full-screen":t.fullScreen},{focused:t.focused}]},[r("div",{staticClass:"dply-felx mb-15"},[r("label",{staticClass:"mb-0"},[t._v(t._s(t.title))]),t._v(" "),r("div",{staticClass:"custom-toolbar"},[r("button",{staticClass:"outline-btn",on:{click:function(e){e.preventDefault(),t.editAsHtml=!t.editAsHtml}}},[t._v("\n        "+t._s(t.$t("error.ea",{type:t.editAsHtml?t.$t("profile.wysi"):t.$t("profile.html")}))+"\n      ")]),t._v(" "),r("button",{staticClass:"outline-btn",on:{click:function(e){return e.preventDefault(),t.fullScreenToggle.apply(null,arguments)}}},[t._v("\n        "+t._s(t.$t("error.scrn",{type:t.fullScreen?t.$t("error.nrm"):t.$t("error.full")}))+"\n      ")]),t._v(" "),t.fullScreen?r("button",{staticClass:"ml-10 close-btn",on:{click:function(e){return e.preventDefault(),t.fullScreenToggle.apply(null,arguments)}}},[r("i",{staticClass:"icon close-icon"})]):t._e()])]),t._v(" "),t.editAsHtml?r("p",{staticClass:"info-msg mb-20 mb-sm-15"},[t._v("\n    "+t._s(t.$t("error.st"))+": h1, h2...h6, p, strong, em, u, s, blockquote, pre, ul, li, ol, br, a, img, video.\n    "+t._s(t.$t("error.mkSr"))+"\n  ")]):t._e(),t._v(" "),t.editAsHtml?r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.productDescription,expression:"productDescription"}],domProps:{value:t.productDescription},on:{change:t.descriptionChange,input:function(e){e.target.composing||(t.productDescription=e.target.value)}}}):r("vue-editor",{attrs:{useCustomImageHandler:""},on:{focus:function(e){t.focused=!0},blur:function(e){t.focused=!1},"text-change":t.descriptionChange,"image-added":t.handleImageAdded,"image-removed":t.handleImageRemoved},model:{value:t.productDescription,callback:function(e){t.productDescription=e},expression:"productDescription"}})],1)}),[],!1,null,null,null);e.default=component.exports},603:function(t,e,r){r(623)},604:function(t,e,r){"use strict";r(4)({target:"Set",proto:!0,real:!0,forced:!0},{addAll:r(624)})},605:function(t,e,r){"use strict";r(4)({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:r(277)})},606:function(t,e,r){"use strict";var n=r(4),o=r(35),l=r(12),c=r(34),d=r(10),v=r(81),f=r(33);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){var e=d(this),r=new(v(e,o("Set")))(e),n=c(r.delete);return f(t,(function(t){l(n,r,t)})),r}})},607:function(t,e,r){"use strict";var n=r(4),o=r(10),l=r(36),c=r(442),d=r(33);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=o(this),r=c(e),n=l(t,arguments.length>1?arguments[1]:void 0);return!d(r,(function(t,r){if(!n(t,t,e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},608:function(t,e,r){"use strict";var n=r(4),o=r(35),l=r(12),c=r(34),d=r(10),v=r(36),f=r(81),m=r(442),h=r(33);n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=d(this),r=m(e),n=v(t,arguments.length>1?arguments[1]:void 0),_=new(f(e,o("Set"))),y=c(_.add);return h(r,(function(t){n(t,t,e)&&l(y,_,t)}),{IS_ITERATOR:!0}),_}})},609:function(t,e,r){"use strict";var n=r(4),o=r(10),l=r(36),c=r(442),d=r(33);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=o(this),r=c(e),n=l(t,arguments.length>1?arguments[1]:void 0);return d(r,(function(t,r){if(n(t,t,e))return r(t)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},610:function(t,e,r){"use strict";var n=r(4),o=r(35),l=r(12),c=r(34),d=r(10),v=r(81),f=r(33);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){var e=d(this),r=new(v(e,o("Set"))),n=c(e.has),m=c(r.add);return f(t,(function(t){l(n,e,t)&&l(m,r,t)})),r}})},611:function(t,e,r){"use strict";var n=r(4),o=r(12),l=r(34),c=r(10),d=r(33);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){var e=c(this),r=l(e.has);return!d(t,(function(t,n){if(!0===o(r,e,t))return n()}),{INTERRUPTED:!0}).stopped}})},612:function(t,e,r){"use strict";var n=r(4),o=r(35),l=r(12),c=r(34),d=r(14),v=r(10),f=r(151),m=r(33);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){var e=f(this),r=v(t),n=r.has;return d(n)||(r=new(o("Set"))(t),n=c(r.has)),!m(e,(function(t,e){if(!1===l(n,r,t))return e()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},613:function(t,e,r){"use strict";var n=r(4),o=r(12),l=r(34),c=r(10),d=r(33);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){var e=c(this),r=l(e.has);return!d(t,(function(t,n){if(!1===o(r,e,t))return n()}),{INTERRUPTED:!0}).stopped}})},614:function(t,e,r){"use strict";var n=r(4),o=r(6),l=r(10),c=r(26),d=r(442),v=r(33),f=o([].join),m=[].push;n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=l(this),r=d(e),n=void 0===t?",":c(t),o=[];return v(r,m,{that:o,IS_ITERATOR:!0}),f(o,n)}})},615:function(t,e,r){"use strict";var n=r(4),o=r(35),l=r(36),c=r(12),d=r(34),v=r(10),f=r(81),m=r(442),h=r(33);n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=v(this),r=m(e),n=l(t,arguments.length>1?arguments[1]:void 0),_=new(f(e,o("Set"))),y=d(_.add);return h(r,(function(t){c(y,_,n(t,t,e))}),{IS_ITERATOR:!0}),_}})},616:function(t,e,r){"use strict";var n=r(4),o=r(2),l=r(34),c=r(10),d=r(442),v=r(33),f=o.TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=c(this),r=d(e),n=arguments.length<2,o=n?void 0:arguments[1];if(l(t),v(r,(function(r){n?(n=!1,o=r):o=t(o,r,r,e)}),{IS_ITERATOR:!0}),n)throw f("Reduce of empty set with no initial value");return o}})},617:function(t,e,r){"use strict";var n=r(4),o=r(10),l=r(36),c=r(442),d=r(33);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=o(this),r=c(e),n=l(t,arguments.length>1?arguments[1]:void 0);return d(r,(function(t,r){if(n(t,t,e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},618:function(t,e,r){"use strict";var n=r(4),o=r(35),l=r(12),c=r(34),d=r(10),v=r(81),f=r(33);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){var e=d(this),r=new(v(e,o("Set")))(e),n=c(r.delete),m=c(r.add);return f(t,(function(t){l(n,r,t)||l(m,r,t)})),r}})},619:function(t,e,r){"use strict";var n=r(4),o=r(35),l=r(34),c=r(10),d=r(81),v=r(33);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){var e=c(this),r=new(d(e,o("Set")))(e);return v(t,l(r.add),{that:r}),r}})},620:function(t,e,r){var content=r(639);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(61).default)("61ef1aa8",content,!0,{sourceMap:!1})},623:function(t,e,r){"use strict";r(275)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(276))},624:function(t,e,r){"use strict";var n=r(12),o=r(34),l=r(10);t.exports=function(){for(var t=l(this),e=o(t.add),r=0,c=arguments.length;r<c;r++)n(e,t,arguments[r]);return t}},625:function(t,e,r){"use strict";r(458)},626:function(t,e,r){var n=r(60)(!1);n.push([t.i,".ql-snow .ql-editor img{width:auto}.custom-toolbar{display:flex;grid-gap:15px;gap:15px;align-items:center}.ql-editor{max-height:400px}.ql-editor li{line-height:1.9;display:block}.focused .ql-container{border-color:#444!important}.focused .ql-toolbar.ql-snow{border-color:#444!important;border-bottom:1px solid #ccc}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-radius:0 0 5px 5px}.ql-toolbar.ql-snow{border-radius:5px 5px 0 0}.has-error .whysigwyg-error .ql-container,.has-error .whysigwyg-error .ql-toolbar.ql-snow{border-color:red!important}.full-screen{padding:30px;position:fixed;top:0;bottom:0;left:0;right:0;z-index:10;display:flex;flex-direction:column;background:#fff}.full-screen .ql-editor{max-height:4000px}.full-screen .quillWrapper{display:flex;flex-direction:column;flex-grow:1}.full-screen .quillWrapper .ql-container,.full-screen textarea{flex-grow:1}@media only screen and (max-width:768px){.wysiwyg-wrapper .dply-felx{display:block;margin:10px 0}.wysiwyg-wrapper .dply-felx .custom-toolbar button{margin-top:10px}}",""]),t.exports=n},638:function(t,e,r){"use strict";r(620)},639:function(t,e,r){var n=r(60)(!1);n.push([t.i,".atr-wrapper{border-radius:5px;border:1px solid #ddd;background:#f7f7f5}.atr-wrapper .single-atr{display:flex;flex-wrap:wrap;align-items:center;border-bottom:1px solid #ddd}.atr-wrapper .single-atr label{padding:15px}.atr-wrapper .single-atr .atr-title{width:120px;max-width:120px}.atr-wrapper .single-atr:last-child{border-bottom:none}",""]),t.exports=n},646:function(t,e,r){"use strict";r.r(e);r(20),r(19),r(27),r(28);var n=r(189),o=r(1),l=r(5),c=(r(21),r(271),r(37),r(150),r(52),r(8),r(17),r(53),r(272),r(23),r(187),r(452),r(120),r(40),r(603),r(38),r(604),r(605),r(606),r(607),r(608),r(609),r(610),r(611),r(612),r(613),r(614),r(615),r(616),r(617),r(618),r(619),r(148)),d=r(436),v=r(11);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"ProductInventory",data:function(){return{inventoryOpen:!1,result:[],selectedAttributes:[],selectedAttributeValues:[],selected:{},combinations:[],formSubmitting:!1,redirect:!1,existing:{}}},props:{attributes:{type:Array,default:[]},productPrice:{type:Number,default:0}},mixins:[],components:{AjaxButton:c.default,ErrorFormatter:d.default},computed:m({currencyIcon:function(){var t;return(null===(t=this.setting)||void 0===t?void 0:t.currency_icon)||"$"},productId:function(){return this.$route.params.id}},Object(v.c)("setting",["setting"])),methods:m({redirectingEnable:function(t){this.redirect="save"===t},fetchingData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.getById({id:t.productId,params:{},api:"getInventory"});case 4:t.result=e.sent,t.loading=!1,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",t.$nuxt.error(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},saveInventory:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.redirectingEnable(event.submitter.name),t.formSubmitting=!0,e.prev=2,e.next=5,t.setById({id:t.productId,params:{inventories:t.combinations},api:"setInventory"});case 5:if(!(data=e.sent)){e.next=13;break}return t.result=data,e.next=10,t.mappingData();case 10:t.$router.push({path:"/products".concat(t.redirect?"":"/"+t.productId)}),e.next=14;break;case 13:t.$emit("has-error");case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(2),e.abrupt("return",t.$nuxt.error(e.t0));case 19:t.formSubmitting=!1;case 20:case"end":return e.stop()}}),e,null,[[2,16]])})))()},renderLabel:function(t){return t.map((function(i){return i.title})).join(" + ")},combos:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(r===t.length){var c={id:"",sku:"",price:this.productPrice,quantity:0},d=l.map((function(t){return t.id})).join("-");void 0!==this.existing[d]&&(c={id:this.existing[d].id,sku:this.existing[d].sku,price:this.existing[d].price,quantity:this.existing[d].quantity}),o.push(m(m({},c),{values:l}))}else t[r].forEach((function(c){return e.combos(t,r+1,o,[].concat(Object(n.a)(l),[c]))}));return o},attributeValueChanged:function(t,e){var r,n,o;if(e.target.checked)-1===(null===(r=this.selectedAttributes)||void 0===r?void 0:r.findIndex((function(i){return i===(null==t?void 0:t.attribute_id)})))&&(this.selectedAttributes.push(t.attribute_id),this.selected=m(m({},this.selected),Object(l.a)({},t.attribute_id,[]))),-1===(null===(n=this.selected[t.attribute_id])||void 0===n?void 0:n.findIndex((function(i){return i===t.id})))&&this.selected[t.attribute_id].push(t);else if(this.selected[t.attribute_id]=this.selected[null==t?void 0:t.attribute_id].filter((function(i){return i.id!==t.id})),null===(o=this.selected[t.attribute_id])||void 0===o||!o.length){delete this.selected[t.attribute_id];var c=this.selectedAttributes.findIndex((function(i){return t.attribute_id===i}));this.selectedAttributes.splice(c,1)}this.combinations=this.combos(Object.values(this.selected))},attributeChanged:function(t,e){if(e.target.checked){var r,o=null===(r=this.attributes.find((function(i){return i.id===t.id})))||void 0===r?void 0:r.values;this.selected=m(m({},this.selected),Object(l.a)({},t.id,o));var c=null==o?void 0:o.map((function(i){return i.id}));this.selectedAttributeValues=Object(n.a)(new Set(this.selectedAttributeValues.concat(c)))}else{var d,v=null===(d=this.selected[t.id])||void 0===d?void 0:d.map((function(i){return i.id}));delete this.selected[t.id],this.selectedAttributeValues=this.selectedAttributeValues.filter((function(t){return-1===v.indexOf(t)}))}this.combinations=this.combos(Object.values(this.selected))},mappingData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.result||null===(r=t.result)||void 0===r||!r.length){e.next=11;break}return t.selected={},t.combinations=[],c=[],d=[],e.next=7,null===(o=Object.values(t.result))||void 0===o?void 0:o.forEach((function(i){var e=[];i.inventory_attributes.forEach((function(r){c.push(r.attribute_value.attribute_id),d.push(r.attribute_value.id),e.push(r.attribute_value),void 0===t.selected[r.attribute_value.attribute_id]&&(t.selected=m(m({},t.selected),Object(l.a)({},r.attribute_value.attribute_id,[]))),-1===t.selected[r.attribute_value.attribute_id].findIndex((function(i){return r.attribute_value.id===i.id}))&&t.selected[r.attribute_value.attribute_id].push(r.attribute_value)})),t.existing[e.map((function(t){return t.id})).join("-")]={id:i.id,price:parseFloat(i.price)>0?i.price:t.productPrice,sku:i.sku,quantity:i.quantity},t.combinations.push({id:i.id,sku:i.sku,price:parseFloat(i.price)>0?i.price:t.productPrice,quantity:i.quantity,values:e})}));case 7:t.selectedAttributes=Object(n.a)(new Set(c)),t.selectedAttributeValues=Object(n.a)(new Set(d)),e.next=12;break;case 11:t.combinations=[{price:t.productPrice,quantity:0,sku:"",values:[]}];case 12:case"end":return e.stop()}}),e)})))()}},Object(v.b)("common",["getById","setById"])),beforeCreate:function(){},destroyed:function(){},created:function(){},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchingData();case 2:return e.next=4,t.mappingData();case 4:case"end":return e.stop()}}),e)})))()}},_=h,y=(r(638),r(16)),component=Object(y.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"dply-felx gap-15 title ptb-5 b-0"},[r("h5",{},[t._v(t._s(t.$t("prod.pInv")))]),t._v(" "),r("button",{staticClass:"btn-clear dply-felx",on:{click:function(e){e.preventDefault(),t.inventoryOpen=!t.inventoryOpen}}},[r("i",{staticClass:"icon black ignore-click",class:[{"arrow-up":t.inventoryOpen},{"arrow-down":!t.inventoryOpen}]})])]),t._v(" "),t.inventoryOpen?r("div",{staticClass:"form-wrapper attr-inventory b-t"},[r("error-formatter",{attrs:{type:"inventory"}}),t._v(" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.saveInventory.apply(null,arguments)}}},[t.attributes&&t.attributes.length?r("div",{staticClass:"mb-20 mb-sm-15 atr-wrapper"},t._l(t.attributes,(function(e,n){return r("div",{key:n,staticClass:"single-atr"},[e.values.length?[r("label",{staticClass:"cb atr-title f-1-2 bold"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedAttributes,expression:"selectedAttributes"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.selectedAttributes)?t._i(t.selectedAttributes,e.id)>-1:t.selectedAttributes},on:{change:[function(r){var n=t.selectedAttributes,o=r.target,l=!!o.checked;if(Array.isArray(n)){var c=e.id,d=t._i(n,c);o.checked?d<0&&(t.selectedAttributes=n.concat([c])):d>-1&&(t.selectedAttributes=n.slice(0,d).concat(n.slice(d+1)))}else t.selectedAttributes=l},function(r){return t.attributeChanged(e,r)}]}}),t._v(" "),r("span",[t._v(t._s(e.title))])]),t._v(" "),t._l(e.values,(function(e,i){return r("label",{key:i,staticClass:"cb"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedAttributeValues,expression:"selectedAttributeValues"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.selectedAttributeValues)?t._i(t.selectedAttributeValues,e.id)>-1:t.selectedAttributeValues},on:{change:[function(r){var n=t.selectedAttributeValues,o=r.target,l=!!o.checked;if(Array.isArray(n)){var c=e.id,d=t._i(n,c);o.checked?d<0&&(t.selectedAttributeValues=n.concat([c])):d>-1&&(t.selectedAttributeValues=n.slice(0,d).concat(n.slice(d+1)))}else t.selectedAttributeValues=l},function(r){return t.attributeValueChanged(e,r)}]}}),t._v(" "),r("span",[t._v(t._s(e.title))])])}))]:t._e()],2)})),0):t._e(),t._v(" "),r("div",{staticClass:"table-wrapper mb-20 mb-sm-15"},[r("table",{staticClass:"mn-w-400x"},[r("tr",{staticClass:"lite-bold"},[r("th",[t._v(t._s(t.$t("list.attr")))]),t._v(" "),r("th",[t._v(t._s(t.$t("title.sku")))]),t._v(" "),r("th",[t._v(t._s(t.$t("brand.price"))+"("+t._s(t.currencyIcon)+")")]),t._v(" "),r("th",[t._v(t._s(t.$t("fSale.qty")))])]),t._v(" "),t._l(t.combinations,(function(e,n){return r("tr",{key:n},[r("td",[e.values.length?r("h5",{staticClass:"mx-w-400x"},[t._v(t._s(t.renderLabel(e.values)))]):r("h5",{staticClass:"mx-w-400x"},[t._v(t._s(t.$t("list.aq")))])]),t._v(" "),r("td",{staticClass:"w-120x"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.sku,expression:"item.sku"}],attrs:{type:"text",placeholder:t.$t("title.sku")},domProps:{value:e.sku},on:{input:function(r){r.target.composing||t.$set(e,"sku",r.target.value)}}})]),t._v(" "),r("td",{staticClass:"w-120x"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"item.price"}],attrs:{disabled:!e.values.length,type:"number",step:"any",placeholder:t.$t("brand.price")},domProps:{value:e.price},on:{input:function(r){r.target.composing||t.$set(e,"price",r.target.value)}}})]),t._v(" "),r("td",{staticClass:"w-120x"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"item.quantity"}],attrs:{type:"number",step:"any",placeholder:t.$t("fSale.qty")},domProps:{value:e.quantity},on:{input:function(r){r.target.composing||t.$set(e,"quantity",r.target.value)}}})])])}))],2)]),t._v(" "),t.$can("product","edit")||t.$can("product","create")?r("div",{staticClass:"dply-felx j-right"},[r("ajax-button",{staticClass:"primary-btn mr-10",attrs:{name:"save-edit",text:t.$t("list.svn"),"fetching-data":t.formSubmitting&&!t.redirect}}),t._v(" "),r("ajax-button",{staticClass:"primary-btn",attrs:{name:"save",text:t.$t("setting.sv"),"fetching-data":t.formSubmitting&&t.redirect}})],1):t._e()])],1):t._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ErrorFormatter:r(436).default,AjaxButton:r(148).default})},659:function(t,e,r){"use strict";r.r(e);r(25),r(54),r(122),r(676),r(8),r(681),r(683),r(684),r(685),r(686),r(687),r(688),r(689),r(690),r(691),r(692),r(693),r(694),r(695),r(696),r(698),r(699),r(700),r(701),r(702),r(703),r(704),r(705),r(706),r(38),r(40),r(278),r(153);var n=r(148),o=r(80),l=r(439),c={name:"VideoUpload",data:function(){return{scaleFactor:"",uploadMessage:null}},mixins:[o.a,l.a],components:{AjaxButton:n.default},props:{type:{type:String,default:"image"},fileUploading:{type:Boolean,default:!1},video:{type:String,default:""},image:{type:String,default:""},imageTitle:{type:String,default:""},btnText:{type:String,default:"Upload"}},computed:{isImage:function(){return"image"===this.type},errors:function(){return this.ERRORS&&this.ERRORS[this.type]},videoName:function(){return this.video||""},imageName:function(){var t;return null!==(t=this.image)&&void 0!==t?t:this.defaultImage}},methods:{dataURLtoFile:function(t,e){for(var r=t.split(","),n=r[0].match(/:(.*?);/)[1],o=atob(r[1]),l=o.length,c=new Uint8Array(l);l--;)c[l]=o.charCodeAt(l);return new File([c],e,{type:n})},capture:function(t){var video=document.getElementById("video");document.getElementById("source").src=URL.createObjectURL(t),video.load();var e=this;video.addEventListener("loadeddata",(function(){var r=this.videoWidth,n=this.videoHeight,canvas=document.createElement("canvas");canvas.width=r,canvas.height=n,canvas.getContext("2d").drawImage(this,0,0,r,n);var o=canvas.toDataURL("image/jpeg"),l={canvas:canvas,file:e.dataURLtoFile(o,"".concat(+new Date,".jpg")),base64:o};e.$emit("file-upload",{video:t,thumb:l.file})}))},fileChanged:function(t){var e=t.target.files[0];e&&(this.uploadMessage=this.isValidImage(e,this.maxVideoSize,!1),this.uploadMessage||this.capture(e))}}},d=r(16),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"file-wrapper",class:{"has-error":t.uploadMessage}},[r("div",{staticClass:"file-input",class:{"pt-0":!t.isImage}},[r("input",{ref:"fileInput",attrs:{type:"file"},on:{change:t.fileChanged}}),t._v(" "),t.isImage?r("img",{attrs:{src:t.getImageURL(t.imageName),alt:t.imageTitle}}):r("div",[t.videoName?r("video",{attrs:{controls:"",autostart:"0"}},[r("source",{attrs:{src:t.getVideoURL(t.videoName),type:"video/mp4"}})]):r("div",[t._v("\n        "+t._s(t.$t("prod.noVid"))+"\n      ")])]),t._v(" "),t._m(0)]),t._v(" "),t.uploadMessage?r("span",{staticClass:"error mb-10"},[t._v("\n    "+t._s(t.uploadMessage)+"\n  ")]):t._e(),t._v(" "),r("ajax-button",{staticClass:"outline-btn",attrs:{type:"button",text:t.btnText,color:"primary","loading-text":t.$t("error.up"),"fetching-data":t.fileUploading},on:{clicked:function(e){return t.$refs.fileInput.click()}}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("video",{staticStyle:{height:"0",width:"0",opacity:"0"},attrs:{id:"video",controls:"",autoplay:""}},[e("source",{attrs:{id:"source",type:"video/mp4"}})])}],!1,null,null,null);e.default=component.exports;installComponents(component,{AjaxButton:r(148).default})},660:function(t,e,r){"use strict";r.r(e);r(118);var n=r(148),o={name:"VideoInput",data:function(){return{videoThumbData:null,videoData:null}},mixins:[r(80).a],components:{AjaxButton:n.default},props:{saving:{type:Boolean,default:!1},videoThumb:{type:String,default:""},video:{type:String,default:""}},watch:{videoThumb:function(t){this.videoThumbData=t},video:function(t){this.$refs.videoRef.src=t,this.$refs.videoRef.play(),this.videoData=t}},computed:{thumbImageName:function(){var t;return null!==(t=this.videoThumbData)&&void 0!==t&&t.trim()?this.videoThumb:this.defaultImage}},methods:{},mounted:function(){this.videoData=this.video,this.videoThumbData=this.videoThumb}},l=r(16),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"image-url-wrap file-wrapper"},[r("h5",[t._v(t._s(t.$t("error.vti")))]),t._v(" "),r("div",{staticClass:"file-input"},[r("img",{attrs:{src:t.thumbImageName}})]),t._v(" "),r("h5",[t._v(t._s(t.$t("error.vid")))]),t._v(" "),r("div",{staticClass:"file-input"},[r("video",{ref:"videoRef",attrs:{src:"",id:"video-container",width:"100%",controls:""}})]),t._v(" "),r("div",{staticClass:"input-wrapper"},[r("label",[t._v(t._s(t.$t("error.vtn")))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.videoThumbData,expression:"videoThumbData"}],attrs:{type:"text",placeholder:t.$t("error.vtn")},domProps:{value:t.videoThumbData},on:{input:function(e){e.target.composing||(t.videoThumbData=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"input-wrapper"},[r("label",[t._v(t._s(t.$t("error.vn")))]),t._v(" "),r("div",{staticClass:"image-input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.videoData,expression:"videoData"}],attrs:{type:"text",placeholder:t.$t("error.vn")},domProps:{value:t.videoData},on:{input:function(e){e.target.composing||(t.videoData=e.target.value)}}}),t._v(" "),r("ajax-button",{staticClass:"primary-btn",attrs:{type:"button",text:t.$t("setting.sv"),"loading-text":"","fetching-data":t.saving},on:{clicked:function(e){return t.$emit("image-change",{video:t.videoData,thumb:t.videoThumbData})}}})],1)])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{AjaxButton:r(148).default})},729:function(t,e,r){"use strict";r.r(e);r(20),r(19),r(23),r(27),r(28);var n=r(1),o=r(5),l=(r(8),r(17),r(452),r(21),r(48)),c=r(11),d=r(148),v=r(80),f=r(439),m=r(436),h=r(437),_=r(451);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w={name:"ProductImages",data:function(){return{imageData:"",uploading:!1,deleting:!1,errors:null}},props:{productImages:{type:Array,default:function(){return[]}}},mixins:[v.a,f.a],components:{ImageInput:_.default,LazyImage:h.default,AjaxButton:d.default,ErrorFormatter:m.default,Spinner:l.default},computed:x({id:function(){return this.$route.params.id}},Object(c.c)(["mediaStorage"])),methods:x(x({imageDelete:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!confirm(e.$t("admin.dltMsg"))){r.next=13;break}return r.prev=1,e.deleting=!0,r.next=5,e.deleteData({params:t,api:"deleteProductImage"});case 5:(data=r.sent)&&e.$emit("result",data),e.deleting=!1,r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",e.$nuxt.error(r.t0));case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()},uploadProductImages:function(t){var e=arguments,r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,l,c,d,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.length>1&&void 0!==e[1]?e[1]:null,l={},t?(c=t.target.files,(d=new FormData).append("id",r.id),d.append("product_id",r.id),Object.values(c).forEach((function(t){d.append("images[]",t),r.errors=r.isValidImage(t),r.errors})),r.setErrors({multiple_image:[r.errors]}),l=d):(l.photo=o,l.product_id=r.id,l.id=r.id),r.errors){n.next=19;break}return n.prev=4,r.uploading=!0,n.next=8,r.setImageById({id:r.id,params:l,api:"setProductImages"});case 8:if(!(data=n.sent)){n.next=13;break}return n.next=12,r.$emit("result",data);case 12:r.imageData="";case 13:r.uploading=!1,n.next=19;break;case 16:return n.prev=16,n.t0=n.catch(4),n.abrupt("return",r.$nuxt.error(n.t0));case 19:case"end":return n.stop()}}),n,null,[[4,16]])})))()}},Object(c.b)("common",["setImageById","deleteData"])),Object(c.b)("ui",["setErrors"]))},C=w,k=r(16),component=Object(k.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"p-20 p-sm-15 pos-rel"},[t.deleting?r("div",{staticClass:"spinner-wrapper"},[r("spinner",{staticClass:"mr-15",attrs:{radius:60,color:"primary"}})],1):t._e(),t._v(" "),r("input",{ref:"filesInput",staticClass:"d-none",attrs:{type:"file",multiple:""},on:{change:t.uploadProductImages}}),t._v(" "),r("error-formatter",{attrs:{type:"multiple_image"}}),t._v(" "),r("div",{staticClass:"product-images dply-felx mb-15"},[t.productImages.length?t._e():r("p",{staticClass:"mlr-5"},[t._v("\n      "+t._s(t.$t("list.noData",{data:t.$t("admin.img")}))+"\n    ")]),t._v(" "),t._l(t.productImages,(function(e,n){return r("div",{key:n,staticClass:"w-50"},[r("div",{staticClass:"img-wrapper"},[r("lazy-image",{attrs:{"data-src":t.getThumbImageURL(e.image)}}),t._v(" "),t.$can("product","edit")||t.$can("product","create")?r("button",{on:{click:function(r){return r.preventDefault(),t.imageDelete(e.id)}}},[t._v("âœ–\n        ")]):t._e()],1)])}))],2),t._v(" "),t.$can("product","edit")||t.$can("product","create")?r("div",[t.mediaStorageData.URL===t.mediaStorage?r("div",{staticClass:"input-wrapper"},[r("label",{staticClass:"mb-10"},[t._v("\n\n        "+t._s(t.$t("list.addImg"))+"\n      ")]),t._v(" "),r("div",{staticClass:"image-input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.imageData,expression:"imageData"}],staticClass:"mb-10",attrs:{type:"text",placeholder:"Image name"},domProps:{value:t.imageData},on:{input:function(e){e.target.composing||(t.imageData=e.target.value)}}}),t._v(" "),r("ajax-button",{staticClass:"primary-btn",attrs:{type:"button",text:t.$t("setting.sv"),"loading-text":"","fetching-data":t.uploading},on:{clicked:function(e){return t.uploadProductImages(null,t.imageData)}}})],1)]):r("ajax-button",{staticClass:"outline-btn w-100 centered",attrs:{type:"button",color:"primary",text:"Upload Images","loading-text":"Uploading","fetching-data":t.uploading},on:{clicked:function(e){return t.$refs.filesInput.click()}}})],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Spinner:r(48).default,ErrorFormatter:r(436).default,LazyImage:r(437).default,AjaxButton:r(148).default})},858:function(t,e,r){"use strict";r.r(e);r(23),r(27),r(28);var n=r(189),o=r(1),l=r(5),c=(r(21),r(8),r(17),r(20),r(45),r(51),r(53),r(25),r(72),r(272),r(37),r(603),r(38),r(604),r(605),r(606),r(607),r(608),r(609),r(610),r(611),r(612),r(613),r(614),r(615),r(616),r(617),r(618),r(619),r(40),r(52),r(86),r(19),r(55),r(11)),d=r(436),v=r(466),f=r(729),m=r(447),h=r(659),_=r(459),y=r(148),x=r(646),w=r(445),C=r(149),k=r(48),$=r(80),O=r(451),S=r(660);function I(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function j(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var D={name:"product",middleware:["common-middleware","auth"],data:function(){return{licence:null,showCategories:!1,validLicence:!1,routeName:"products",getApi:"getProduct",setApi:"setProduct",setImageApi:"setProductImage",setVideoApi:"setProductVideo",fileKeys:["id","tax_rule_id","shipping_rule_id"],validationKeys:["title","slug","unit","meta_title","meta_description","description","overview","selling","purchased"],result:{id:"",title:"",tags:",",overview:"",description:"",status:"2",brand_id:"",primary_category_id:"",category_id:"",bundle_deal_id:"",unit:"",badge:"",subcategory_id:"",tax_rule_id:"",shipping_rule_id:"",purchased:"",selling:"",offered:"",refundable:1,warranty:1,meta_description:"",flash_sale_product:"",meta_title:"",image:"",slug:"",video:"",product_images:[],product_collections:[],product_categories:[]},hasError:!1,loading:!1,formSubmitting:!1,redirect:!1,fileUploading:!1,videoUploading:!1}},directives:{outsideClick:r(66).a},mixins:[$.a],components:{VideoInput:S.default,ImageInput:O.default,DataPage:w.default,Dropdown:C.default,WYSIWYGEditor:v.default,ProductImages:f.default,FileUpload:m.default,VideoUpload:h.default,TagSearch:_.default,AjaxButton:y.default,ProductInventory:x.default,ErrorFormatter:d.default,Spinner:k.default},computed:j(j(j(j(j({productCategories:function(){return this.result.product_categories},selectedCategories:function(){var t=this,e=null;return this.allCategories&&this.productCategories.length&&Object.keys(this.allCategories).forEach((function(i){t.productCategories.includes(i)&&(e=j(j({},e),Object(l.a)({},i,t.allCategories[i])))})),e},currencyPosition:function(){var t;return null===(t=this.setting)||void 0===t?void 0:t.currency_position},currentPrice:function(){return this.result.offered>0?this.result.offered:this.result.selling>0?this.result.selling:0},id:function(){var t,e;return this.isAdding?"":null===(t=this.$route)||void 0===t||null===(e=t.params)||void 0===e?void 0:e.id},isAdding:function(){var t,e;return isNaN(null===(t=this.$route)||void 0===t||null===(e=t.params)||void 0===e?void 0:e.id)},currencyIcon:function(){var t;return(null===(t=this.setting)||void 0===t?void 0:t.currency_icon)||"$"}},Object(c.c)(["mediaStorage"])),Object(c.c)("admin",["publicKey"])),Object(c.c)("language",["currentLanguage"])),Object(c.c)("setting",["setting"])),Object(c.c)("common",["allCategories","allTaxRules","allAttributes","allBrands","allProductCollections","allBundleDeals","allShippingRules"])),methods:j({closeDrop:function(){this.showCategories=!1},productImages:function(t){var e=this;this.result.product_images=[],this.$nextTick((function(){e.result.product_images=t}))},imageInputChanged:function(t){this.uploadFile(null,t)},addTag:function(t){this.result.tags||(this.result.tags=","),this.result.tags="".concat(this.result.tags).concat(t,",")},deleteTag:function(t){this.result.tags=this.result.tags.replace("".concat(t,","),"")},dropdownSelected:function(data){this.result.status=data.key},primaryCategorySelected:function(data){this.result.primary_category_id=data.key},categorySelected:function(data){this.result.category_id=data.key,this.selectedSubCategories?this.result.subcategory_id=Object.keys(this.selectedSubCategories)[0]:this.result.subcategory_id=""},subCategorySelected:function(data){this.result.subcategory_id=data.key},taxRuleSelected:function(data){this.result.tax_rule_id=data.key},shippingRuleSelected:function(data){this.result.shipping_rule_id=data.key},brandSelected:function(data){this.result.brand_id=data.key},bundleDealSelected:function(data){this.result.bundle_deal_id=data.key},redirectingEnable:function(t){this.redirect="save"===t},checkForm:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var data,r,o,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.validationKeys.findIndex((function(i){return!t.result[i]}))>-1)){e.next=3;break}return t.hasError=!0,e.abrupt("return",!1);case 3:return t.redirectingEnable(event.submitter.name),t.formSubmitting=!0,e.prev=5,delete t.result.created_at,delete t.result.updated_at,e.next=10,t.setById({id:t.id,params:t.result,api:t.setApi});case 10:(data=e.sent)?(t.result=Object.assign({},data),t.result.product_collections=Object(n.a)(new Set(null===(r=t.result)||void 0===r||null===(o=r.product_collections)||void 0===o?void 0:o.map((function(t){return t.product_collection_id})))),t.result.product_categories=Object(n.a)(new Set(null===(l=t.result)||void 0===l||null===(c=l.product_categories)||void 0===c?void 0:c.map((function(t){return t.category_id.toString()})))),t.$router.push({path:"/".concat(t.routeName).concat(t.redirect?"":"/"+t.result.id)})):t.scrollToTop(),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(5),e.abrupt("return",t.$nuxt.error(e.t0));case 17:t.formSubmitting=!1;case 18:case"end":return e.stop()}}),e,null,[[5,14]])})))()},scrollToTop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"productForm";this.$refs[t].scrollIntoView({behavior:"smooth"})},fetchingData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.t0=Object,e.t1={},e.next=6,t.getById({id:t.id,params:{},api:t.getApi});case 6:e.t2=e.sent,t.result=e.t0.assign.call(e.t0,e.t1,e.t2),t.result.product_collections=Object(n.a)(new Set(null===(r=t.result)||void 0===r||null===(o=r.product_collections)||void 0===o?void 0:o.map((function(t){return t.product_collection_id})))),t.result.product_categories=Object(n.a)(new Set(null===(l=t.result)||void 0===l||null===(c=l.product_categories)||void 0===c?void 0:c.map((function(t){return t.category_id.toString()})))),t.loading=!1,e.next=16;break;case 13:return e.prev=13,e.t3=e.catch(0),e.abrupt("return",t.$nuxt.error(e.t3));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},uploadVideo:function(t){var e=arguments,r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var video,l,c,data,d,v,f,m;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return video=e.length>1&&void 0!==e[1]?e[1]:null,r.videoUploading=!0,o.prev=2,l={},t?(c=new FormData,r.fileKeys.forEach((function(i){c.append(i,r.result[i])})),c.append("video_file",t.video),c.append("thumb",t.thumb),l=c):(r.fileKeys.forEach((function(i){l[i]=r.result[i]})),l.video_file=video.video,l.thumb=video.thumb),o.next=7,r.setImageById({id:r.id,params:l,api:r.setVideoApi});case 7:if(!(data=o.sent)){o.next=14;break}return r.result=Object.assign({},data),r.result.product_collections=Object(n.a)(new Set(null===(d=r.result)||void 0===d||null===(v=d.product_collections)||void 0===v?void 0:v.map((function(t){return t.product_collection_id})))),r.result.product_categories=Object(n.a)(new Set(null===(f=r.result)||void 0===f||null===(m=f.product_categories)||void 0===m?void 0:m.map((function(t){return t.category_id.toString()})))),o.next=14,r.$router.push({path:"/".concat(r.routeName,"/").concat(r.result.id)});case 14:o.next=19;break;case 16:return o.prev=16,o.t0=o.catch(2),o.abrupt("return",r.$nuxt.error(o.t0));case 19:r.videoUploading=!1;case 20:case"end":return o.stop()}}),o,null,[[2,16]])})))()},uploadFile:function(t){var e=arguments,r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var l,c,d,data,v,f,m,h;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=e.length>1&&void 0!==e[1]?e[1]:null,r.fileUploading=!0,o.prev=2,c={},t?(d=new FormData,r.fileKeys.forEach((function(i){d.append(i,r.result[i])})),d.append("photo",t),c=d):(r.fileKeys.forEach((function(i){c[i]=r.result[i]})),c.photo=l),o.next=7,r.setImageById({id:r.id,params:c,api:r.setImageApi});case 7:if(!(data=o.sent)){o.next=14;break}return r.result=Object.assign({},data),r.result.product_collections=Object(n.a)(new Set(null===(v=r.result)||void 0===v||null===(f=v.product_collections)||void 0===f?void 0:f.map((function(t){return t.product_collection_id})))),r.result.product_categories=Object(n.a)(new Set(null===(m=r.result)||void 0===m||null===(h=m.product_categories)||void 0===h?void 0:h.map((function(t){return t.category_id.toString()})))),o.next=14,r.$router.push({path:"/".concat(r.routeName,"/").concat(r.result.id)});case 14:o.next=19;break;case 16:return o.prev=16,o.t0=o.catch(2),o.abrupt("return",r.$nuxt.error(o.t0));case 19:r.fileUploading=!1;case 20:case"end":return o.stop()}}),o,null,[[2,16]])})))()},editorDescriptionFile:function(t){var e=t.deleted,r=t.file,n=t.Editor,o=t.cursorLocation,l=t.resetUploader;this.editorFile({deleted:e,file:r,Editor:n,cursorLocation:o,resetUploader:l},this.wysiwygType.PRODUCT_DESCRIPTION)},editorOverviewFile:function(t){var e=t.deleted,r=t.file,n=t.Editor,o=t.cursorLocation,l=t.resetUploader;this.editorFile({deleted:e,file:r,Editor:n,cursorLocation:o,resetUploader:l},this.wysiwygType.PRODUCT_OVERVIEW)},editorFile:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,l,c,d,v,f,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.deleted,l=t.file,c=t.Editor,d=t.cursorLocation,v=t.resetUploader,o){n.next=27;break}return r.loading=!0,n.prev=3,f=new FormData,r.result.id?(f.append("overview",r.result.overview),f.append("description",r.result.description),f.append("item_id",r.result.id)):f.append("product",JSON.stringify(r.result)),f.append("type",e),f.append("photo",l),n.next=10,r.setWysiwygImage(f);case 10:if(!(data=n.sent)){n.next=19;break}if(r.result.id){n.next=17;break}return n.next=15,r.$router.push({path:"/".concat(r.routeName,"/").concat(data.item_id)});case 15:n.next=19;break;case 17:c.insertEmbed(d,"image",data.url),v();case 19:n.next=24;break;case 21:return n.prev=21,n.t0=n.catch(3),n.abrupt("return",r.$nuxt.error(n.t0));case 24:r.loading=!1,n.next=37;break;case 27:return r.loading=!0,n.prev=28,n.next=31,r.deleteData({params:r.getImageName(l),api:"deleteWysiwygImage"});case 31:n.next=36;break;case 33:return n.prev=33,n.t1=n.catch(28),n.abrupt("return",r.$nuxt.error(n.t1));case 36:r.loading=!1;case 37:case"end":return n.stop()}}),n,null,[[3,21],[28,33]])})))()}},Object(c.b)("common",["getById","setById","setImageById","getDropdownList","setWysiwygImage","deleteData"])),mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.licence=t.phpDecryption(t.publicKey),((r=window.location.hostname).includes("admin.ishop.cholobangla.com")||r.includes("localhost")||r.includes("127.0.0.1")||t.licence.includes(r))&&(t.validLicence=!0),t.isAdding){e.next=6;break}return e.next=6,t.fetchingData();case 6:if(t.allCategories&&t.allTaxRules&&t.allAttributes&&t.allBrands&&t.allProductCollections&&t.allBundleDeals&&t.allShippingRules){e.next=17;break}return t.loading=!0,e.prev=8,e.next=11,t.getDropdownList();case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(8),e.abrupt("return",t.$nuxt.error(e.t0));case 16:t.loading=!1;case 17:case"end":return e.stop()}}),e,null,[[8,13]])})))()}},A=D,E=r(16),component=Object(E.a)(A,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-form"},[t.loading?r("div",{staticClass:"spinner-wrapper"},[r("spinner",{staticClass:"mr-15",attrs:{radius:60,color:"primary"}})],1):t._e(),t._v(" "),r("div",{staticClass:"right-area"},[r("div",{staticClass:"sticky"},[r("div",{staticClass:"tab-sidebar mb-20 mb-lg mb-md-15"},[r("h4",{staticClass:"title"},[r("span",{staticClass:"mr-5"},[t._v(t._s(t.$t("prod.pVideo")))]),t._v(" "),r("span",{staticClass:"fw-400 f-8"},[t._v(t._s(t.$t("prod.maxVid")))])]),t._v(" "),t.$can("product","edit")||t.$can("product","create")?r("div",{staticClass:"form-wrapper"},[r("error-formatter",{attrs:{type:"video"}}),t._v(" "),t.mediaStorageData.URL===t.mediaStorage?r("video-input",{attrs:{saving:t.videoUploading,video:t.result.video,"video-thumb":t.result.video_thumb},on:{"image-change":function(e){return t.uploadVideo(null,e)}}}):r("video-upload",{staticClass:"upload-block",attrs:{video:t.result.video,type:"video","file-uploading":t.videoUploading},on:{"file-upload":t.uploadVideo}})],1):t.$can("product","view")?r("div",{staticClass:"ptb-15 plr-20"},[t.result.video?r("video",{attrs:{controls:"",autoplay:""}},[r("source",{attrs:{src:t.getVideoURL(t.result.video),type:"video/mp4"}})]):r("div",[t._v("\n            "+t._s(t.$t("prod.noVid"))+"\n          ")])]):t.result.video&&t.$can("product","view")?r("video",{attrs:{controls:"",autoplay:""}},[r("source",{attrs:{src:t.getVideoURL(t.result.video),type:"video/mp4"}})]):t._e()]),t._v(" "),r("div",{staticClass:"tab-sidebar mb-20 mlr-lg-15 mlr-md mb-md-15"},[r("h4",{staticClass:"title"},[r("span",{staticClass:"mr-5"},[t._v(t._s(t.$t("prod.pImg")))]),t._v(" "),r("span",{staticClass:"fw-400 f-8"},[t._v(t._s(t.$t("prod.suggImg")))])]),t._v(" "),t.loading?t._e():r("div",[t.$can("product","edit")||t.$can("product","create")?r("div",{staticClass:"form-wrapper upload-block"},[r("error-formatter",{attrs:{type:"image"}}),t._v(" "),t.mediaStorageData.URL===t.mediaStorage?r("image-input",{attrs:{saving:t.fileUploading,image:t.result.image},on:{"image-change":t.imageInputChanged}}):r("file-upload",{staticClass:"upload-block",attrs:{image:t.result.image,"file-uploading":t.fileUploading},on:{"file-upload":t.uploadFile}})],1):t.$can("product","view")?r("img",{staticClass:"mx-w-300x",attrs:{src:t.getImageURL(t.result.image)}}):t._e()])]),t._v(" "),t.isAdding?t._e():r("div",{staticClass:"tab-sidebar mb-md-15"},[r("h4",{staticClass:"title"},[r("span",{staticClass:"mr-5"},[t._v(t._s(t.$t("prod.pImgs")))]),t._v(" "),r("span",{staticClass:"fw-400 f-8"},[t._v(t._s(t.$t("prod.suggImg")))])]),t._v(" "),r("product-images",{attrs:{"product-images":t.result.product_images},on:{result:t.productImages}})],1)])]),t._v(" "),r("div",{ref:"productForm",staticClass:"left-area"},[r("div",{staticClass:"tab-sidebar"},[r("h4",{staticClass:"title"},[t._v(t._s(t.$t("prod.pForm")))]),t._v(" "),r("form",{staticClass:"form-wrapper",class:{"has-error":t.hasError},on:{submit:function(e){return e.preventDefault(),t.checkForm.apply(null,arguments)}}},[r("error-formatter"),t._v(" "),r("div",{staticClass:"input-wrapper"},[r("label",[t._v(t._s(t.$t("index.title")))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.title,expression:"result.title"}],class:{invalid:!t.result.title&&t.hasError},attrs:{type:"text",placeholder:t.$t("index.title")},domProps:{value:t.result.title},on:{change:t.slugChange,input:function(e){e.target.composing||t.$set(t.result,"title",e.target.value)}}}),t._v(" "),!t.result.title&&t.hasError?r("span",{staticClass:"error"},[t._v("\n            "+t._s(t.$t("category.req",{type:t.$t("index.title")}))+"\n          ")]):t._e()]),t._v(" "),r("div",{staticClass:"input-wrapper"},[r("label",[t._v(t._s(t.$t("category.slug")))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.slug,expression:"result.slug"}],ref:"slug",class:{invalid:!t.result.slug&&t.hasError},attrs:{type:"text",placeholder:t.$t("category.slug"),name:"slug"},domProps:{value:t.result.slug},on:{input:function(e){e.target.composing||t.$set(t.result,"slug",e.target.value)}}}),t._v(" "),!t.result.slug&&t.hasError?r("span",{staticClass:"error"},[t._v("\n            "+t._s(t.$t("category.req",{type:t.$t("category.slug")}))+"\n          ")]):t._e()]),t._v(" "),t._l(t.result.flash_sale_product,(function(e,n){return r("div",{key:n,staticClass:"info-msg mb-20 mb-sm-15"},[r("p",[t._v("\n            "+t._s(t.$t("prod.flash"))+"\n            ("),r("nuxt-link",{staticClass:"link",attrs:{to:"/flash-sales/"+e.flash_sale.id}},[t._v("\n            "+t._s(e.flash_sale.title)+"\n          ")]),t._v(")\n          ")],1),t._v(" "),r("p",[t._v(t._s(t.$t("prod.flashPrice"))+": "),r("b",[t._v(t._s(t.priceFormatting(e.price)))])]),t._v(" "),r("p",[t._v(t._s(t.$t("prod.maxQty"))+": "),r("b",[t._v(t._s(e.quantity))])])])})),t._v(" "),r("div",{staticClass:"dply-felx mlr--7-5 inputs"},[r("div",{staticClass:"input-wrapper mlr-7-5"},[r("label",[t._v(t._s(t.$t("prod.purchased"))+"("+t._s(t.currencyIcon)+")")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.purchased,expression:"result.purchased"}],class:{invalid:(t.result.purchased<1||!t.result.purchased)&&t.hasError},attrs:{type:"number",step:"any",placeholder:t.$t("prod.purchased")},domProps:{value:t.result.purchased},on:{input:function(e){e.target.composing||t.$set(t.result,"purchased",e.target.value)}}}),t._v(" "),(t.result.purchased<1||!t.result.purchased)&&t.hasError?r("span",{staticClass:"error"},[t._v("\n              "+t._s(t.$t("category.req",{type:t.$t("brand.price")}))+"\n            ")]):t._e()]),t._v(" "),r("div",{staticClass:"input-wrapper mlr-7-5"},[r("label",[t._v(t._s(t.$t("prod.selling"))+"("+t._s(t.currencyIcon)+")")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.selling,expression:"result.selling"}],class:{invalid:(t.result.selling<1||!t.result.selling)&&t.hasError},attrs:{type:"number",step:"any",placeholder:t.$t("prod.selling")},domProps:{value:t.result.selling},on:{input:function(e){e.target.composing||t.$set(t.result,"selling",e.target.value)}}}),t._v(" "),(t.result.selling<1||!t.result.selling)&&t.hasError?r("span",{staticClass:"error"},[t._v("\n              "+t._s(t.$t("category.req",{type:t.$t("brand.price")}))+"\n            ")]):t._e()]),t._v(" "),r("div",{staticClass:"input-wrapper mlr-7-5"},[r("label",[t._v(t._s(t.$t("prod.offered"))+"("+t._s(t.currencyIcon)+")")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.offered,expression:"result.offered"}],attrs:{type:"number",step:"any",placeholder:t.$t("prod.offered")},domProps:{value:t.result.offered},on:{input:function(e){e.target.composing||t.$set(t.result,"offered",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"dply-felx inputs pos-rel w-100"},[r("div",{staticClass:"input-wrapper "},[r("label",{staticClass:"block"},[t._v(t._s(t.$t("error.cat")))]),t._v(" "),r("div",{staticClass:"custom-dropdown cp",attrs:{"data-ignore":"multiple-category"},on:{click:function(e){e.preventDefault(),t.showCategories=!t.showCategories}}},[r("span",{staticClass:"ignore-click"},[t._v(t._s(t.$t("title.choose"))+" ("+t._s(t.result.product_categories.length)+")\n                "),r("i",{staticClass:"icon black ignore-click",class:[{"arrow-up":t.showCategories},{"arrow-down":!t.showCategories}]})])]),t._v(" "),t.showCategories?r("ul",{directives:[{name:"outside-click",rawName:"v-outside-click",value:t.closeDrop,expression:"closeDrop"}],staticClass:"multiple-wrap",attrs:{id:"multiple-category"}},t._l(t.allCategories,(function(e,n){return r("label",{key:n,attrs:{"label-for":"all-cat-"+n}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.product_categories,expression:"result.product_categories"}],attrs:{id:"all-cat-"+n,type:"checkbox"},domProps:{value:n,checked:Array.isArray(t.result.product_categories)?t._i(t.result.product_categories,n)>-1:t.result.product_categories},on:{change:function(e){var r=t.result.product_categories,o=e.target,l=!!o.checked;if(Array.isArray(r)){var c=n,d=t._i(r,c);o.checked?d<0&&t.$set(t.result,"product_categories",r.concat([c])):d>-1&&t.$set(t.result,"product_categories",r.slice(0,d).concat(r.slice(d+1)))}else t.$set(t.result,"product_categories",l)}}}),t._v("\n                "+t._s(e.title)+"\n              ")])})),0):t._e()]),t._v(" "),t.selectedCategories?r("div",{staticClass:"input-wrapper mlr-7-5"},[r("label",{staticClass:"block"},[t._v(t._s(t.$t("title.prim")))]),t._v(" "),r("dropdown",{staticClass:"left-dd",attrs:{selectedKey:t.result.primary_category_id,options:t.selectedCategories},on:{clicked:t.primaryCategorySelected}})],1):t._e()]),t._v(" "),r("div",{staticClass:"dply-felx inputs mlr--7-5"},[r("div",{staticClass:"input-wrapper mlr-7-5"},[r("label",[t._v(t._s(t.$t("prod.unit")))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.unit,expression:"result.unit"}],class:{invalid:!t.result.unit&&t.hasError},attrs:{type:"text",placeholder:t.$t("prod.unit")},domProps:{value:t.result.unit},on:{input:function(e){e.target.composing||t.$set(t.result,"unit",e.target.value)}}}),t._v(" "),!t.result.unit&&t.hasError?r("span",{staticClass:"error"},[t._v("\n              "+t._s(t.$t("category.req",{type:t.$t("prod.unit")}))+"\n            ")]):t._e()]),t._v(" "),r("div",{staticClass:"input-wrapper mlr-7-5"},[r("label",[t._v(t._s(t.$t("prod.badge")))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.badge,expression:"result.badge"}],attrs:{type:"text",placeholder:t.$t("prod.badge")},domProps:{value:t.result.badge},on:{input:function(e){e.target.composing||t.$set(t.result,"badge",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"input-wrapper",class:{"whysigwyg-error":!t.result.overview&&t.hasError}},[r("WYSIWYGEditor",{attrs:{title:t.$t("prod.overview"),description:t.result.overview},on:{change:function(e){t.result.overview=e},file:t.editorOverviewFile}}),t._v(" "),!t.result.overview&&t.hasError?r("span",{staticClass:"error"},[t._v("\n            "+t._s(t.$t("category.req",{type:t.$t("prod.overview")}))+"\n          ")]):t._e()],1),t._v(" "),r("div",{staticClass:"input-wrapper",class:{"whysigwyg-error":!t.result.description&&t.hasError}},[r("WYSIWYGEditor",{attrs:{description:t.result.description},on:{change:function(e){t.result.description=e},file:t.editorDescriptionFile}}),t._v(" "),!t.result.description&&t.hasError?r("span",{staticClass:"error"},[t._v("\n            "+t._s(t.$t("category.req",{type:t.$t("prod.desc")}))+"\n          ")]):t._e()],1),t._v(" "),r("div",{staticClass:"dply-felx inputs mlr--7-5"},[r("div",{staticClass:"input-wrapper mlr-7-5"},[r("label",{staticClass:"block"},[t._v(t._s(t.$t("category.status")))]),t._v(" "),r("dropdown",{attrs:{selectedKey:""+t.result.status,options:t.statusObj},on:{clicked:t.dropdownSelected}})],1),t._v(" "),r("div",{staticClass:"input-wrapper mlr-7-5"},[r("label",{staticClass:"block"},[t._v(t._s(t.$t("prod.brand")))]),t._v(" "),t.allBrands?r("dropdown",{attrs:{"default-null":!0,selectedKey:t.result.brand_id,options:t.allBrands},on:{clicked:t.brandSelected}}):t._e()],1)]),t._v(" "),r("div",{staticClass:"input-wrapper"},[r("label",[t._v(t._s(t.$t("prod.tags")))]),t._v(" "),r("tag-search",{attrs:{tags:t.result.tags},on:{add:t.addTag,delete:t.deleteTag}})],1),t._v(" "),r("div",{staticClass:"f-wrap dply-felx inputs mlr--7-5"},[r("div",{staticClass:"input-wrapper mlr-7-5"},[r("label",{staticClass:"block"},[t._v(t._s(t.$t("prod.tRule")))]),t._v(" "),t.allTaxRules?r("dropdown",{attrs:{selectedKey:t.result.tax_rule_id,options:t.allTaxRules},on:{clicked:t.taxRuleSelected}}):t._e(),t._v(" "),!t.result.tax_rule_id&&t.hasError?r("span",{staticClass:"error"},[t._v("\n              "+t._s(t.$t("category.req",{type:t.$t("brand.tRule")}))+"\n            ")]):t._e()],1),t._v(" "),r("div",{staticClass:"input-wrapper mlr-7-5"},[r("label",{staticClass:"block"},[t._v(t._s(t.$t("dataPage.shipRule")))]),t._v(" "),t.allShippingRules?r("dropdown",{attrs:{selectedKey:t.result.shipping_rule_id,options:t.allShippingRules},on:{clicked:t.shippingRuleSelected}}):t._e(),t._v(" "),!t.result.shipping_rule_id&&t.hasError?r("span",{staticClass:"error"},[t._v("\n              "+t._s(t.$t("category.req",{type:t.$t("brand.shipRule")}))+"\n            ")]):t._e()],1),t._v(" "),r("div",{staticClass:"input-wrapper mlr-7-5"},[r("label",{staticClass:"block"},[t._v(t._s(t.$t("profile.dleDeal")))]),t._v(" "),t.allBundleDeals?r("dropdown",{attrs:{"default-null":!0,selectedKey:t.result.bundle_deal_id,options:t.allBundleDeals},on:{clicked:t.bundleDealSelected}}):t._e()],1)]),t._v(" "),r("div",{staticClass:"mb-10 mb-sm-5 cb-wrapper"},[r("span",{staticClass:"block mb-10"},[t._v(t._s(t.$t("dataPage.prodCol")))]),t._v(" "),t._l(t.allProductCollections,(function(e,n){return r("label",{key:n,staticClass:"mr-15 mb-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.product_collections,expression:"result.product_collections"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.result.product_collections)?t._i(t.result.product_collections,e.id)>-1:t.result.product_collections},on:{change:function(r){var n=t.result.product_collections,o=r.target,l=!!o.checked;if(Array.isArray(n)){var c=e.id,d=t._i(n,c);o.checked?d<0&&t.$set(t.result,"product_collections",n.concat([c])):d>-1&&t.$set(t.result,"product_collections",n.slice(0,d).concat(n.slice(d+1)))}else t.$set(t.result,"product_collections",l)}}}),t._v("\n            "+t._s(e.title)+"\n          ")])}))],2),t._v(" "),r("div",{staticClass:"mb-20 mb-sm-15 cb-wrapper"},[r("span",{staticClass:"block mb-10"},[t._v("\n            "+t._s(t.$t("prod.pInfo"))+"\n          ")]),t._v(" "),r("p",[r("label",{staticClass:"mr-15"},[t._v("\n              "+t._s(t.$t("prod.refund"))+"\n            ")]),t._v(" "),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.refundable,expression:"result.refundable"}],attrs:{type:"radio",name:"refundable",value:"1"},domProps:{checked:t._q(t.result.refundable,"1")},on:{change:function(e){return t.$set(t.result,"refundable","1")}}}),t._v("\n              "+t._s(t.$t("prod.yes"))+"\n            ")]),t._v(" "),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.refundable,expression:"result.refundable"}],attrs:{type:"radio",name:"refundable",value:"2"},domProps:{checked:t._q(t.result.refundable,"2")},on:{change:function(e){return t.$set(t.result,"refundable","2")}}}),t._v("\n              "+t._s(t.$t("prod.no"))+"\n            ")])]),t._v(" "),r("p",[r("label",{staticClass:"mr-15"},[t._v("\n              "+t._s(t.$t("prod.warranty"))+"\n            ")]),t._v(" "),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.warranty,expression:"result.warranty"}],attrs:{type:"radio",name:"warranty",value:"1"},domProps:{checked:t._q(t.result.warranty,"1")},on:{change:function(e){return t.$set(t.result,"warranty","1")}}}),t._v("\n              "+t._s(t.$t("prod.yes"))+"\n            ")]),t._v(" "),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.warranty,expression:"result.warranty"}],attrs:{type:"radio",name:"warranty",value:"2"},domProps:{checked:t._q(t.result.warranty,"2")},on:{change:function(e){return t.$set(t.result,"warranty","2")}}}),t._v("\n              "+t._s(t.$t("prod.no"))+"\n            ")])])]),t._v(" "),r("div",{staticClass:"input-wrapper"},[r("label",[t._v(t._s(t.$t("category.mTitle")))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.result.meta_title,expression:"result.meta_title"}],class:{invalid:!t.result.meta_title&&t.hasError},attrs:{type:"text",placeholder:t.$t("category.mTitle")},domProps:{value:t.result.meta_title},on:{input:function(e){e.target.composing||t.$set(t.result,"meta_title",e.target.value)}}}),t._v(" "),!t.result.meta_title&&t.hasError?r("span",{staticClass:"error"},[t._v("\n            "+t._s(t.$t("category.req",{type:t.$t("category.mTitle")}))+"\n          ")]):t._e()]),t._v(" "),r("div",{staticClass:"input-wrapper"},[r("label",[t._v(t._s(t.$t("category.mDesc")))]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.result.meta_description,expression:"result.meta_description"}],class:{invalid:!t.result.meta_description&&t.hasError},attrs:{placeholder:t.$t("category.mDesc")},domProps:{value:t.result.meta_description},on:{input:function(e){e.target.composing||t.$set(t.result,"meta_description",e.target.value)}}}),t._v(" "),!t.result.meta_description&&t.hasError?r("span",{staticClass:"error"},[t._v("\n            "+t._s(t.$t("category.req",{type:t.$t("category.mDesc")}))+"\n          ")]):t._e()]),t._v(" "),t.validLicence&&(t.$can("product","edit")||t.$can("product","create"))?r("div",{staticClass:"dply-felx j-right gap-15"},[r("ajax-button",{staticClass:"primary-btn",attrs:{name:"save-edit",text:t.$t("list.svn"),"fetching-data":t.formSubmitting&&!t.redirect}}),t._v(" "),r("ajax-button",{staticClass:"primary-btn",attrs:{name:"save",text:t.$t("setting.sv"),"fetching-data":t.formSubmitting&&t.redirect}})],1):t._e()],2)]),t._v(" "),t.isAdding?t._e():r("div",{ref:"productInventory",staticClass:"tab-sidebar mt-15"},[t.currentPrice?r("product-inventory",{attrs:{attributes:t.allAttributes,"product-price":parseFloat(t.currentPrice)},on:{"has-error":function(e){return t.scrollToTop("productInventory")}}}):t._e()],1)])])}),[],!1,null,"632d4fb8",null);e.default=component.exports;installComponents(component,{Spinner:r(48).default,ErrorFormatter:r(436).default,VideoInput:r(660).default,VideoUpload:r(659).default,ImageInput:r(451).default,FileUpload:r(447).default,Dropdown:r(149).default,WYSIWYGEditor:r(466).default,TagSearch:r(459).default,AjaxButton:r(148).default})}}]);